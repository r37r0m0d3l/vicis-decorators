import{Vicis as t}from"vicis";import e from"lodash.clonedeep";import r from"lodash.merge";const n=Symbol("__vicis_config__"),o=Symbol("__vicis_serializer__");function c(t){return e(t)}const u={cast:{},defaults:{},defined:[],exclude:[],omit:[],order:[],pick:[],sort:!0,rename:{},replace:{},required:[],transform:{}};function i(){return c(u)}function f(t,e){return r(t,e)}function s(){const t=new Object(null);Array.from(new Set(this[n].pick)).forEach(e=>{t[e]=this[e]});const e=this[o].data(t).getData();return(async()=>{this[o].clear()})(),e}function a(e={}){return function(r){if(n in r.prototype)r.prototype[n]=f(c(r.prototype[n]),c(e||{}));else{const u=f(i(),c(e||{})),a=f(u,c(r.prototype[n]||{}));r.prototype[n]=a,r.prototype[o]=t.factory(a),r.prototype.toJSON=s}return r}}function p(t={}){return a({defaults:t})}function d(t,...e){let r;return r=void 0!==t?Array.isArray(t)?[...t]:[t]:[],e.length&&(r=r.concat(e)),r}function l(t,...e){return a({exclude:d(t,...e)})}function m(t,...e){return a({omit:d(t,...e)})}function h(t,...e){return a({order:d(t,...e)})}function y(t,...e){return a({pick:d(t,...e)})}function k(t,...e){return a({required:d(t,...e)})}function _(e){e[n]||(e[n]=i(),e[o]=t.factory(e[n]))}function b(t){let e;return e="string"==typeof t?{rename:t}:{...t},function(t,r){_(t),Object.keys(e).length>0&&t[n].pick.push(r),Object.keys(e).forEach(o=>{switch(o){case"defined":case"exclude":case"omit":!0===e[o]&&t[n][o].push(r);break;case"rename":t[n][o][r]=e.rename,t[n].pick.push(e.rename);break;case"required":!0===e[o]&&t[n][o].push(r);break;default:{let c=t[n][o];Array.isArray(c)?(c=new Set(c),c.add(e[o]),c=Array.from(c)):c[r]=e[o],t[n][o]=c}}})}}function g(t){return b({cast:t})}function A(t){return b({defaults:t})}function x(t,e){_(t),t[n].defined.push(e),t[n].pick.push(e)}function S(t,e){_(t),t[n].exclude.push(e)}function q(t,e){_(t),t[n].omit.push(e)}function v(t,e){_(t),t[n].pick.push(e)}function w(t){return b(t)}function O(t){return b({replace:t})}function j(t,e){_(t),t[n].required.push(e)}function E(t){return b({transform:t})}export{p as Defaults,l as Exclude,m as Omit,h as Order,y as Pick,k as Required,a as Serialize,g as cast,A as defaults,x as defined,S as exclude,q as omit,v as pick,w as rename,O as replace,j as required,b as serialize,E as transform};
//# sourceMappingURL=vicis-decorators.mjs.map
