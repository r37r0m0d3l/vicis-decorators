!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vicis"),require("lodash.clonedeep"),require("lodash.merge")):"function"==typeof define&&define.amd?define(["exports","vicis","lodash.clonedeep","lodash.merge"],t):t((e=e||self).VicisDecorators={},e.vicis,e.lodash.clonedeep,e.lodash.merge)}(this,(function(e,t,r,n){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const o=Symbol("__vicis_config__"),i=Symbol("__vicis_serializer__");function c(e){return r(e)}const u={cast:{},defaults:{},defined:[],exclude:[],omit:[],order:[],pick:[],sort:!0,rename:{},replace:{},required:[],transform:{}};function s(){return c(u)}function a(e,t){return n(e,t)}function f(){const e=new Object(null);Array.from(new Set(this[o].pick)).forEach(t=>{e[t]=this[t]});const t=this[i].data(e).getData();return(async()=>{this[i].clear()})(),t}function d(e={}){return function(r){if(o in r.prototype)r.prototype[o]=a(c(r.prototype[o]),c(e||{}));else{const n=a(s(),c(e||{})),u=a(n,c(r.prototype[o]||{}));r.prototype[o]=u,r.prototype[i]=t.Vicis.factory(u),r.prototype.toJSON=f}return r}}function p(e,...t){let r;return r=void 0!==e?Array.isArray(e)?[...e]:[e]:[],t.length&&(r=r.concat(t)),r}function l(e){e[o]||(e[o]=s(),e[i]=t.Vicis.factory(e[o]))}function y(e){let t;return t="string"==typeof e?{rename:e}:{...e},function(e,r){l(e),Object.keys(t).length>0&&e[o].pick.push(r),Object.keys(t).forEach(n=>{switch(n){case"defined":case"exclude":case"omit":!0===t[n]&&e[o][n].push(r);break;case"rename":e[o][n][r]=t.rename,e[o].pick.push(t.rename);break;case"required":!0===t[n]&&e[o][n].push(r);break;default:{let i=e[o][n];Array.isArray(i)?(i=new Set(i),i.add(t[n]),i=Array.from(i)):i[r]=t[n],e[o][n]=i}}})}}e.Defaults=function(e={}){return d({defaults:e})},e.Exclude=function(e,...t){return d({exclude:p(e,...t)})},e.Omit=function(e,...t){return d({omit:p(e,...t)})},e.Order=function(e,...t){return d({order:p(e,...t)})},e.Pick=function(e,...t){return d({pick:p(e,...t)})},e.Required=function(e,...t){return d({required:p(e,...t)})},e.Serialize=d,e.cast=function(e){return y({cast:e})},e.defaults=function(e){return y({defaults:e})},e.defined=function(e,t){l(e),e[o].defined.push(t),e[o].pick.push(t)},e.exclude=function(e,t){l(e),e[o].exclude.push(t)},e.omit=function(e,t){l(e),e[o].omit.push(t)},e.pick=function(e,t){l(e),e[o].pick.push(t)},e.rename=function(e){return y(e)},e.replace=function(e){return y({replace:e})},e.required=function(e,t){l(e),e[o].required.push(t)},e.serialize=y,e.transform=function(e){return y({transform:e})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=vicis-decorators.js.map
