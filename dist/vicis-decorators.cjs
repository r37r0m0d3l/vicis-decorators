"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("vicis"),r=e(require("lodash.clonedeep")),n=e(require("lodash.merge"));const o=Symbol("__vicis_config__"),i=Symbol("__vicis_serializer__");function u(e){return r(e)}const c={cast:{},defaults:{},defined:[],exclude:[],omit:[],order:[],pick:[],sort:!0,rename:{},replace:{},required:[],transform:{}};function s(){return u(c)}function p(e,t){return n(e,t)}function a(){const e=new Object(null);Array.from(new Set(this[o].pick)).forEach(t=>{e[t]=this[t]});const t=this[i].config(this[o]).data(e).getData();return(async()=>{this[i].clear()})(),t}function f(e={}){return function(r){if(Object.is(r.prototype.toJSON,a)||(r.prototype.toJSON=a),o in r.prototype)r.prototype[o]=p(u(r.prototype[o]),u(e||{}));else{const n=p(s(),u(e||{})),c=p(n,u(r.prototype[o]||{}));r.prototype[o]=c,r.prototype[i]=t.Vicis.factory(c)}return r}}function d(e,...t){let r;return r=void 0!==e?Array.isArray(e)?[...e]:[e]:[],t.length&&(r=r.concat(t)),r}function l(e){e[o]||(e[o]=s(),e[i]=t.Vicis.factory(e[o]))}function x(e){let t;return t="string"==typeof e?{rename:e}:{...e},function(e,r){l(e),Object.keys(t).length>0||e[o].pick.push(r),Object.keys(t).forEach(n=>{switch(n){case"defined":case"exclude":case"omit":!0===t[n]&&e[o][n].push(r);break;case"rename":e[o][n][r]=t.rename,e[o].pick.push(t.rename);break;case"required":!0===t[n]&&e[o][n].push(r);break;default:{let i=e[o][n];Array.isArray(i)?(i=new Set(i),i.add(t[n]),i=Array.from(i)):i[r]=t[n],e[o][n]=i}}})}}exports.Defaults=function(e={}){return f({defaults:e})},exports.Exclude=function(e,...t){return f({exclude:d(e,...t)})},exports.Omit=function(e,...t){return f({omit:d(e,...t)})},exports.Order=function(e,...t){return f({order:d(e,...t)})},exports.Pick=function(e,...t){return f({pick:d(e,...t)})},exports.Required=function(e,...t){return f({required:d(e,...t)})},exports.Serialize=f,exports.cast=function(e){return x({cast:e})},exports.defaults=function(e){return x({defaults:e})},exports.defined=function(e,t){l(e),e[o].defined.push(t),e[o].pick.push(t)},exports.exclude=function(e,t){l(e),e[o].exclude.push(t)},exports.omit=function(e,t){l(e),e[o].omit.push(t)},exports.pick=function(e,t){l(e),e[o].pick.push(t)},exports.rename=function(e){return x(e)},exports.replace=function(e){return x({replace:e})},exports.required=function(e,t){l(e),e[o].required.push(t)},exports.serialize=x,exports.transform=function(e){return x({transform:e})};
//# sourceMappingURL=vicis-decorators.cjs.map
